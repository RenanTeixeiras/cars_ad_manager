<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AutoPublish - Anúncios de Veículos</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="static/css/index.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-car"></i> AutoPublish
            </div>
            <nav>
                <ul>
                    <li><a href="/anuncios">Meus Anúncios</a></li>
                </ul>
            </nav>
        </header>

        <div class="hero">
            <h1>Anuncie seu veículo em múltiplos sites</h1>
            <p>Crie anúncios profissionais e publique automaticamente em Webmotor, Só Carrão e outras plataformas com apenas alguns cliques.</p>
            <a href="#form" class="btn btn-accent">Criar anúncio agora</a>
        </div>

        <div class="form-container" id="form">
            <h2 class="form-title"><i class="fas fa-edit"></i> Informações do Veículo</h2>
            <div class="form-group">
                <label for="veiculo">Selecione um veículo</label>
                <select class="form-control" id="veiculo" name="veiculo" required>
                    <option value="">Selecione um veículo</option>
                    {% for veiculo in veiculos %}
                        <option value="{{ veiculo._id }}">{{ veiculo.placa }} - {{ veiculo.marca }} - {{ veiculo.modelo }}</option>
                    {% endfor %}
                </select>
            </div>
            
            <div class="form-row">
                <div class="form-col">
                    <div class="form-group">
                        <label for="marca">Marca</label>
                        <select class="form-control" id="marca" required>
                            <option value="">Selecione a marca</option>
                            <option value="chevrolet">Chevrolet</option>
                            <option value="fiat">Fiat</option>
                            <option value="ford">Ford</option>
                            <option value="honda">Honda</option>
                            <option value="hyundai">Hyundai</option>
                            <option value="toyota">Toyota</option>
                            <option value="volkswagen">Volkswagen</option>
                        </select>
                    </div>
                </div>
                <div class="form-col">
                    <div class="form-group">
                        <label for="modelo">Modelo</label>
                        <select class="form-control" id="modelo" required>
                            <option value="">Selecione o modelo</option>
                        </select>
                    </div>
                </div>
            </div>
            <form id="vehicle-form" enctype="multipart/form-data">

                
                

                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label for="ano">Ano</label>
                            <input type="number" class="form-control" id="ano" min="1900" max="2025" required>
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label for="versao">Versão</label>
                            <input type="text" class="form-control" id="versao" placeholder="Ex: LX 1.8 Automático">
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label for="km">Quilometragem</label>
                            <input type="number" class="form-control" id="km" min="0" required>
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label for="preco">Preço (R$)</label>
                            <input type="number" class="form-control" id="preco" min="0" step="0.01" required>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="descricao">Descrição</label>
                    <textarea class="form-control" id="descricao" rows="5" placeholder="Descreva detalhes do veículo, conservação, diferenciais..."></textarea>
                </div>

                <h3 class="section-title"><i class="fas fa-clipboard-list"></i> Ficha Técnica</h3>
    
    <div class="form-row">
        <div class="form-col">
            <div class="form-group">
                <label for="combustivel">Combustível</label>
                <select class="form-control" id="combustivel">
                    <option value="">Selecione</option>
                    <option value="Gasolina">Gasolina</option>
                    <option value="Etanol">Etanol</option>
                    <option value="Flex">Flex (Gasolina/Etanol)</option>
                    <option value="Diesel">Diesel</option>
                    <option value="GNV">GNV</option>
                    <option value="Híbrido">Híbrido</option>
                    <option value="Elétrico">Elétrico</option>
                </select>
            </div>
        </div>
        <div class="form-col">
            <div class="form-group">
                <label for="cambio">Câmbio</label>
                <select class="form-control" id="cambio">
                    <option value="">Selecione</option>
                    <option value="Manual">Manual</option>
                    <option value="Automático">Automático</option>
                    <option value="CVT">CVT</option>
                    <option value="Semi-automático">Semi-automático</option>
                    <option value="Automatizado">Automatizado</option>
                </select>
            </div>
        </div>
    </div>
    
    <div class="form-row">
        <div class="form-col">
            <div class="form-group">
                <label for="cor">Cor</label>
                <input type="text" class="form-control" id="cor" placeholder="Ex: Prata, Branco, Preto">
            </div>
        </div>
        <div class="form-col">
            <div class="form-group">
                <label for="portas">Número de Portas</label>
                <select class="form-control" id="portas">
                    <option value="">Selecione</option>
                    <option value="2">2 portas</option>
                    <option value="3">3 portas</option>
                    <option value="4">4 portas</option>
                    <option value="5">5 portas</option>
                </select>
            </div>
        </div>
    </div>
    
    <div class="form-row">
        <div class="form-col">
            <div class="form-group">
                <label for="motor">Motor</label>
                <input type="text" class="form-control" id="motor" placeholder="Ex: 1.0, 1.6, 2.0">
            </div>
        </div>
        <div class="form-col">
            <div class="form-group">
                <label for="potencia">Potência (cv)</label>
                <input type="number" class="form-control" id="potencia" placeholder="Ex: 116">
            </div>
        </div>
    </div>
    
    <div class="form-row">
        <div class="form-col">
            <div class="form-group">
                <label for="direcao">Direção</label>
                <select class="form-control" id="direcao">
                    <option value="">Selecione</option>
                    <option value="Mecânica">Mecânica</option>
                    <option value="Hidráulica">Hidráulica</option>
                    <option value="Eletro-hidráulica">Eletro-hidráulica</option>
                    <option value="Elétrica">Elétrica</option>
                </select>
            </div>
        </div>
        <div class="form-col">
            <div class="form-group">
                <label for="final-placa">Final da Placa</label>
                <input type="text" class="form-control" id="final-placa" maxlength="1" placeholder="Ex: 0-9">
            </div>
        </div>
    </div>
    
    <div class="form-group">
        <label for="opcionais">Opcionais</label>
        <div class="opcionais-container">
            <div class="opcional-item">
                <input type="checkbox" id="ar-condicionado" class="opcional-check">
                <label for="ar-condicionado">Ar Condicionado</label>
            </div>
            <div class="opcional-item">
                <input type="checkbox" id="vidros-eletricos" class="opcional-check">
                <label for="vidros-eletricos">Vidros Elétricos</label>
            </div>
            <div class="opcional-item">
                <input type="checkbox" id="travas-eletricas" class="opcional-check">
                <label for="travas-eletricas">Travas Elétricas</label>
            </div>
            <div class="opcional-item">
                <input type="checkbox" id="alarme" class="opcional-check">
                <label for="alarme">Alarme</label>
            </div>
            <div class="opcional-item">
                <input type="checkbox" id="som" class="opcional-check">
                <label for="som">Som</label>
            </div>
            <div class="opcional-item">
                <input type="checkbox" id="sensor-re" class="opcional-check">
                <label for="sensor-re">Sensor de Ré</label>
            </div>
            <div class="opcional-item">
                <input type="checkbox" id="camera-re" class="opcional-check">
                <label for="camera-re">Câmera de Ré</label>
            </div>
            <div class="opcional-item">
                <input type="checkbox" id="airbag" class="opcional-check">
                <label for="airbag">Airbag</label>
            </div>
            <div class="opcional-item">
                <input type="checkbox" id="abs" class="opcional-check">
                <label for="abs">Freios ABS</label>
            </div>
            <div class="opcional-item">
                <input type="checkbox" id="couro" class="opcional-check">
                <label for="couro">Bancos em Couro</label>
            </div>
            <div class="opcional-item">
                <input type="checkbox" id="teto-solar" class="opcional-check">
                <label for="teto-solar">Teto Solar</label>
            </div>
            <div class="opcional-item">
                <input type="checkbox" id="multimidia" class="opcional-check">
                <label for="multimidia">Central Multimídia</label>
            </div>
        </div>
    </div>
    
    <div class="form-group">
        <label for="informacoes-adicionais">Informações Adicionais</label>
        <textarea class="form-control" id="informacoes-adicionais" rows="3" placeholder="Outras informações técnicas ou observações..."></textarea>
    </div>

                <div class="form-group">
                    <label>Fotos do Veículo</label>
                    <div class="image-upload" id="image-upload">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>Arraste e solte ou clique para adicionar fotos</p>
                        <input type="file" id="file-input" multiple accept="image/*" style="display: none;">
                    </div>
                    <div class="preview-container" id="preview-container"></div>
                </div>

                <div class="action-buttons">
                    <button type="button" class="btn" id="salvar">Salvar como rascunho</button>
                    <button type="submit" class="btn btn-accent" id="publicar">Publicar Anúncio</button>
                </div>

                <div class="success-message" id="success-message">
                    <i class="fas fa-check-circle"></i> Anúncio salvo com sucesso!
                </div>
            </form>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 AutoPublish - Todos os direitos reservados</p>
    </footer>



    <script src="{{ url_for('static', filename='js/index.js') }}"></script>
    <script>
        // Dentro do evento de clique do botão "publicar" (publishBtn.addEventListener)
// Adicione após formData.append('descricao', document.getElementById('descricao').value);

// Adicionar campos da ficha técnica
formData.append('combustivel', document.getElementById('combustivel').value);
formData.append('cambio', document.getElementById('cambio').value);
formData.append('cor', document.getElementById('cor').value);
formData.append('portas', document.getElementById('portas').value);
formData.append('motor', document.getElementById('motor').value);
formData.append('potencia', document.getElementById('potencia').value);
formData.append('direcao', document.getElementById('direcao').value);
formData.append('final_placa', document.getElementById('final-placa').value);
formData.append('informacoes_adicionais', document.getElementById('informacoes-adicionais').value);

// Coletar opcionais marcados
const opcionais = [];
const checkboxesIds = [
    'ar-condicionado', 'vidros-eletricos', 'travas-eletricas',
    'alarme', 'som', 'sensor-re', 'camera-re',
    'airbag', 'abs', 'couro', 'teto-solar', 'multimidia'
];

checkboxesIds.forEach(id => {
    if (document.getElementById(id).checked) {
        // Converter id (ex: 'ar-condicionado') para nome legível (ex: 'Ar Condicionado')
        const nome = id.split('-')
                       .map(palavra => palavra.charAt(0).toUpperCase() + palavra.slice(1))
                       .join(' ');
        opcionais.push(nome);
    }
});

// Adicionar opcionais como JSON string
formData.append('opcionais', JSON.stringify(opcionais));
    </script>

</body>
</html>